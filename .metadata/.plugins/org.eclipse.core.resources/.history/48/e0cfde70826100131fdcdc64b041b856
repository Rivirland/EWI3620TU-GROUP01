package engine;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class Database {
	public static Connection conn;
	public static Statement stat;
	public static ResultSet rs;

	public Database() {
		try {
			Class.forName("org.sqlite.JDBC");
			/*
			 * Create a connection to a database stored in a local file. The
			 * DriverManager will select the driver that we just loaded. To
			 * initially create a database file,
			 */
			conn = DriverManager
					.getConnection("jdbc:sqlite:db/mydatabase.db");

			/*
			 * A Statement object is used to send SQL statements and retrieve
			 * its results.
			 */
			stat = conn.createStatement();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public void executeUpdate(String st) {
		try {
			stat.executeUpdate(st);
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

	public void printDatabase() {
		try {
			Resultrs = stat.executeQuery("SELECT * FROM students");
			while (rs.next()) {
				// Retrieve the values from the rows, by specifying the column
				// name.
				System.out.println("Student number = "
						+ rs.getInt("studentnumber"));
				System.out.println("Name = " + rs.getString("name"));
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	public void close(){
		rs.close();
		stat.close();
		conn.close();
	}
	// try{
	// Class.forName("org.sqlite.JDBC");
	// /* Create a connection to a database stored in a local file. The
	// DriverManager will select
	// * the driver that we just loaded. To initially create a database file, */
	// Connection conn =
	// DriverManager.getConnection("jdbc:sqlite:db/mydatabase.db");
	//
	// /* A Statement object is used to send SQL statements and retrieve its
	// results. */
	// Statement stat = conn.createStatement();
	//
	// /* A few example statements, these are executed at once. */
	//
	// // This sample recreates the database each time it is run.
	// stat.executeUpdate("DROP TABLE IF EXISTS students;");
	// stat.executeUpdate("CREATE TABLE students (studentnumber INT, name STRING);");
	//
	// // Insert some student data
	// stat.executeUpdate("INSERT INTO students (studentnumber, name) values (123456, 'Piet');");
	// stat.executeUpdate("INSERT INTO students (studentnumber, name) values (654321, 'Maria');");
	//
	//
	// // Select all columns from the table 'students'
	// ResultSet rs = stat.executeQuery("SELECT * FROM students");
	//
	// System.out.println("Students in database:");
	//
	// /* The result set contains multiple rows of results. rs.next() selects
	// the next row and returns true only if it exists.
	// * Initially, the cursor is placed before the first row. */
	//
	// // While there are rows of requested data left
	// while (rs.next()) {
	// // Retrieve the values from the rows, by specifying the column name.
	// System.out.println("Student number = " + rs.getInt("studentnumber"));
	// System.out.println("Name = " + rs.getString("name"));
	// }
	//
	// /* It is important to manually close the connection when we're done, so
	// that the database server is not overloaded
	// * with connections waiting to time out. */
	// rs.close();
	// stat.close();
	// conn.close();
	// }
	// catch(Exception e){
	// System.out.println("Zaidmanexception occured!");
	// e.printStackTrace();
	// }

}
